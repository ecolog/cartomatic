; Automatically generated via Ansible (Gleb E Goncharov <gongled@gongled.ru>)
;     DO NOT EDIT THIS FILE BY HAND -- YOUR CHANGES WILL BE OVERWRITTEN

[client]
port            = {{ mysql.port|default('3306') }}
socket          = {{ mysql_role.socket|default("/var/run/mysqld/mysqld.sock") }}

[mysqld_safe]
socket          = {{ mysql_role.socket|default("/var/run/mysqld/mysqld.sock") }}
nice            = 0

[mysqld]
user            = mysql
bind-address    = {{ mysql.host|default("0.0.0.0") }}
pid             = {{ mysql.pid|default("/var/run/mysqld/mysqld.pid") }}
socket          = {{ mysql_role.socket|default("/var/run/mysqld/mysqld.sock") }}
port            = {{ mysql.port|default('3306') }}
basedir         = /usr
datadir         = /var/lib/mysql
tmpdir          = /tmp

skip-name-resolve
skip-external-locking
low-priority-updates
log-queries-not-using-indexes

interactive_timeout   = {{ mysql.interactive_timeout|default("28800") }}
wait_timeout          = {{ mysql.wait_timeout|default("28800") }}
connect_timeout       = {{ mysql.connect_timeout|default("10") }}
net_read_timeout      = {{ mysql.net_read_timeout|default("30") }}
net_write_timeout     = {{ mysql.net_write_timeout|default("30") }}

key_buffer            = {{ mysql.key_buffer|default("64M") }}
max_allowed_packet    = {{ mysql.max_allowed_packet|default("128M") }}
myisam-recover        = BACKUP
query_cache_type      = {{ mysql.query_cache_type|default("1") }}
query_cache_limit     = {{ mysql.query_cache_limit|default("2M") }}
query_cache_size      = {{ mysql.query_cache_size|default("128M") }}

max_connections       = {{ mysql.max_connections|default("100") }}
sort_buffer_size      = {{ mysql.sort_buffer_size|default("2M") }}
read_buffer_size      = {{ mysql.read_buffer_size|default("128K") }}
read_rnd_buffer_size  = {{ mysql.read_rnd_buffer_size|default("1M") }}
join_buffer_size      = {{ mysql.join_buffer_size|default("2M") }}
thread_stack          = {{ mysql.thread_stack|default("192K") }}
thread_cache_size     = {{ mysql.thread_cache_size|default("8") }}

general_log           = {{ mysql.general_log|default("0") }}
general_log_file      = {{ mysql.general_log_file|default("/var/log/mysql/general.log") }}
slow_query_log        = {{ mysql.slow_query_log|default("1") }}
slow_query_log_file   = {{ mysql.slow_query_log_file|default("/var/log/mysql/slow-queries.log") }}
long_query_time       = {{ mysql.long_query_time|default("2") }}

[mysqldump]
quick
quote-names
max_allowed_packet    = {{ mysql.max_allowed_packet|default("128M") }}

# !includedir /etc/mysql/conf.d/
